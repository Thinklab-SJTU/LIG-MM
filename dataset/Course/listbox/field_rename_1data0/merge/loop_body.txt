    while (y) {
        t = y -> link;
        y -> link = (*z) -> link;
        (*z) -> link = y;
        if (y -> link == 0) {
          y -> link = t;
          x = *px;
          free_list(px);
          return x;
        }
        else {
          z = &(y -> link);
          y = t;
        }
      }